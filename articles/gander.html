<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started with gander • gander</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with gander">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gander</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/gander.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/simonpcouch/gander/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started with gander</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/simonpcouch/gander/blob/main/vignettes/gander.Rmd" class="external-link"><code>vignettes/gander.Rmd</code></a></small>
      <div class="d-none name"><code>gander.Rmd</code></div>
    </div>

    
    
<p>gander is a high performance and low friction chat experience for
data scientists in RStudio and Positron. The package supplies an addin
that can be registered to a keybinding. Once that’s done, just trigger
the addin while you’re working on documents and type a request; along
with your request, the addin will automatically inject context about the
document you’re working in and the objects in your R environment.</p>
<p><img src="https://github.com/user-attachments/assets/4aead453-c2f2-446b-8e81-9154fd3baab0" alt="A screencast of an RStudio session. A script called example.R is open in the editor with lines library(ggplot2), data(stackoverflow), and stackoverflow. After highlighting, I trigger the addin and ask to plot the data in plain language, at which code to plot the data using ggplot2 is streamed from an LLM into the source file that uses the correct column names and a minimal style. From there, I iteratively call the addin to refine the output."></p>
<p>This interface excels beyond a typical LLM chat in two notable
ways:</p>
<ul>
<li><p><strong>Higher-performance</strong>: Including information about
your R environment and relevant code ensures that the model has all of
the context it needs to supply an answer that’s as accurate as possible
<em>and</em> aligns with your taste and style preferences in that it can
mirror the code you’ve written already.</p></li>
<li><p><strong>Lower-friction</strong>: gander eliminates the need to
copy and paste relevant code into the chat window and its result back
into your document. There’s also no need to type anything other than
your request, e.g. descriptions of the style you’d like the response to
take or bits of exposition like “Here’s some additional context:”.
Further, iterating on pieces of content is easier in that the model’s
output will automatically be selected after it’s streamed into your
document; to iterate on a response, just trigger the addin
again.</p></li>
</ul>
<div class="section level2">
<h2 id="choosing-a-model">Choosing a model<a class="anchor" aria-label="anchor" href="#choosing-a-model"></a>
</h2>
<p>The gander addin supports any model supported by <a href="https://ellmer.tidyverse.org/" class="external-link">ellmer</a>. When choosing a model
for use with gander, you’ll want to the use the most performant model
possible that satisfies your privacy needs; gander automatically passes
along your code and the objects in your R environment to your chosen
model, so it’s especially important to consider data privacy when using
LLMs with gander.</p>
<p>gander uses the <code>.gander_chat</code> option to configure which
model powers the addin; just set the option to whatever your usual
ellmer setup is. For example, to use Anthropic’s Claude, you might write
<code>options(.gander_chat = ellmer::chat_claude())</code>. Paste that
code in your <code>.Rprofile</code> via
<code>usethis::edit_r_profile()</code> to always use the same model
every time you start an R session.</p>
<p>If you’re using ellmer inside a organization, you’ll be limited to
what your IT department allows, which is likely to be one provided by a
big cloud provider, e.g. <code>chat_azure()</code>,
<code>chat_bedrock()</code>, <code>chat_databricks()</code>, or
<code>chat_snowflake()</code>. If you’re using ellmer for your own
exploration, you’ll have a lot more freedom, so we have a few
recommendations to help you get started:</p>
<ul>
<li><p>As of early 2025, Anthropic’s <strong>Claude Sonnet 3.5</strong>
is a very powerful model for code assistance and is the model I’ve used
while developing the package. If you want to use Claude, you’ll need to
register an <a href="https://console.anthropic.com/" class="external-link">API key</a> to the
environment variable <code>ANTHROPIC_API_KEY</code> and then set
<code>options(.gander_chat = ellmer::chat_claude())</code>.</p></li>
<li><p>Regarding OpenAI’s models, <code>chat_openai()</code> defaults to
<strong>GPT-4o</strong>, but you can use
<code>model = "gpt-4o-mini"</code> for a cheaper, lower-quality model,
or <code>model = "o1-mini"</code> for more complex reasoning; to use an
OpenAI model, you’ll need to set the options
<code>options(.gander_chat = ellmer::chat_openai(model = "gpt-4o"))</code>
and register your OpenAI API key with the <code>OPENAI_API_KEY</code>
environment variable.</p></li>
<li><p>You can use a <strong>local model</strong> with
<code>chat_ollama()</code>, which uses <a href="https://ollama.com" class="external-link">Ollama</a> and allows you to run models on
your own computer. While the biggest models you can run locally aren’t
as good as the state of the art hosted models, they don’t share your
data and are effectively free. To use an ollama model, run the model
locally and then set
<code>options(.gander_chat = ellmer::chat_ollama(model = "model-name"))</code>.
Instead of <code>model-name</code>, you’d substitute in the name of the
model that appears when you run <code>ollama list</code> at the
console.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="what-is-gander-actually-doing">What is gander actually doing?<a class="anchor" aria-label="anchor" href="#what-is-gander-actually-doing"></a>
</h2>
<p>gander automatically incorporates two kinds of context about your
analyses under the hood:</p>
<ul>
<li>
<strong>Code context</strong>: The assistant will automatically
inform the model about the type of file you’re working in and relevant
lines of code surrounding your cursor.</li>
<li>
<strong>Environment context</strong>: The assistant also interfaces
directly with your global environment to describe the relevant data
frames you have loaded, including their column names and type. This
allows you to describe the analyses you’d like to carry out in plain
language while gander takes care of describing your computational
environment to the model.</li>
</ul>
<p>For example, imagine you’re working in a .R file that looks like
this:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"stackoverflow"</span>, package <span class="op">=</span> <span class="st">"modeldata"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stackoverflow</span></span></code></pre></div>
<p><a href="https://modeldata.tidymodels.org/reference/stackoverflow.html" class="external-link">stackoverflow</a>
is a data set containing results from the annual Stack Overflow
Developer Survey.</p>
<p>You select <code>stackoverflow</code>, trigger the addin, and type
<code>plot salary vs. years coded</code>. To effectively respond to this
input, a model would need to know a few additional things:</p>
<ol style="list-style-type: decimal">
<li>Code context:
<ol style="list-style-type: lower-alpha">
<li>What framework does this user want to use to plot this data?</li>
<li>In what style should the model respond? Notably, this is a
<code>.R</code> file, so any exposition would need to live inside of
comments.</li>
</ol>
</li>
<li>What does the data look like? Specifically, what are the column
names related to the salary and number of years coded?</li>
</ol>
<p>From the surrounding contents in the file, we can answer
<strong>1a)</strong>; the user likely wants to use ggplot2 to do so. We
can answer <strong>1b)</strong> by inspecting the file extension—since
this is an <code>.R</code> file, the model should respond only with
code, omitting exposition and backticks. We can answer
<strong>2)</strong> using the user’s R environment; if they’ve run that
<code>data("stackoverflow", package = "modeldata")</code> line, then the
<code>stackoverflow</code> object will live in their environment and we
can print it out to learn more about it. The gander addin will
preemptively answer all of these questions for the model by including
context from each of these sources.</p>
<p>To demonstrate, we can run this <code>stackoverflow</code> example
ourselves and then call <code><a href="../reference/last_gander.html">gander::gander_peek()</a></code> to peek at
everything gander actually sent to the model. When I do so:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gander</span><span class="fu">::</span><span class="fu"><a href="../reference/last_gander.html">gander_peek</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;Chat turns=3 tokens=1077/52&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── system ─────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; You are a helpful but terse R data scientist. Respond only with valid R code:</span></span>
<span><span class="co">#&gt; no exposition, no backticks. Always provide a minimal solution and refrain</span></span>
<span><span class="co">#&gt; from unnecessary additions. Use tidyverse style and, when relevant, tidyverse</span></span>
<span><span class="co">#&gt; packages. For example, when asked to plot something, use ggplot2, or when</span></span>
<span><span class="co">#&gt; asked to transform data, using dplyr and/or tidyr unless explicitly instructed</span></span>
<span><span class="co">#&gt; otherwise.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── user ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Up to this point, the contents of my r file reads:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ``` </span></span>
<span><span class="co">#&gt; library(ggplot2)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data("stackoverflow", package = "modeldata")</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ```</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Now, plot salary vs. years coded in the following:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; stackoverflow</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Here's some information about the objects in my R environment:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ``` </span></span>
<span><span class="co">#&gt; stackoverflow </span></span>
<span><span class="co">#&gt; #&gt; tibble [5,594 × 21] (S3: tbl_df/tbl/data.frame) </span></span>
<span><span class="co">#&gt; #&gt; $ Country : Factor w/ 5 levels "Canada","Germany",..: 4 5 5 2 3 5 5 2 5 2 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Salary : num [1:5594] 100000 130000 175000 64516 6636 ... </span></span>
<span><span class="co">#&gt; #&gt; $ YearsCodedJob: int [1:5594] 20 20 16 4 1 1 13 4 7 17 ... </span></span>
<span><span class="co">#&gt; #&gt; $ OpenSource : num [1:5594] 0 1 0 0 0 0 0 1 1 1 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Hobby : num [1:5594] 1 1 1 0 1 1 1 0 1 1 ... </span></span>
<span><span class="co">#&gt; #&gt; $ CompanySizeNumber : num [1:5594] 5000 1000 10000 1000 5000 20 20 5000 20 20 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Remote : Factor w/ 2 levels "Remote","Not remote": 1 1 2 2 2 2 2 2 2 2 ... </span></span>
<span><span class="co">#&gt; #&gt; $ CareerSatisfaction : int [1:5594] 8 9 7 9 5 8 7 7 8 9 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Data_scientist : num [1:5594] 0 0 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Database_administrator : num [1:5594] 0 0 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Desktop_applications_developer : num [1:5594] 0 0 0 0 0 0 0 0 1 1 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Developer_with_stats_math_background: num [1:5594] 0 0 0 0 0 0 0 0 0 1 ... </span></span>
<span><span class="co">#&gt; #&gt; $ DevOps : num [1:5594] 0 1 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Embedded_developer : num [1:5594] 1 1 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Graphic_designer : num [1:5594] 0 0 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Graphics_programming : num [1:5594] 0 0 0 0 0 0 0 0 0 0... </span></span>
<span><span class="co">#&gt; #&gt; $ Machine_learning_specialist : num [1:5594] 0 0 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Mobile_developer : num [1:5594] 0 0 0 0 0 0 0 0 1 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Quality_assurance_engineer : num [1:5594] 0 1 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Systems_administrator : num [1:5594] 0 0 0 0 0 0 0 0 0 0 ... </span></span>
<span><span class="co">#&gt; #&gt; $ Web_developer : num [1:5594] 0 1 1 1 1 1 1 1 0 0 ...</span></span>
<span><span class="co">#&gt; ```</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── assistant ──────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; ggplot(stackoverflow, aes(x = YearsCodedJob, y = Salary)) + </span></span>
<span><span class="co">#&gt;   geom_point() +</span></span>
<span><span class="co">#&gt;   labs(x = "Years Coded", y = "Salary")</span></span></code></pre></div>
<p>Even though the user selected only a variable name and typed 5 words,
that request was automatically situated in enough context for the model
to reply only in R code that uses ggplot2 and references column names
that the user hasn’t supplied.</p>
<p>First, gander knows the framework to use since the preceding lines in
the file have been inlined into the user prompt. (By default, gander
recommends that models lean on the tidyverse in their responses anyway.
You can adjust this with <code><a href="../reference/gander_options.html">?gander_options</a></code>.) Then, with
respect to style, gander has detected that we’re working in a
<code>.R</code> file and thus writes “Respond only with valid R code” in
the system prompt. Finally, gander inspects the code selection and
describes variables from the global environment if they’re mentioned
either in the selection or in the text inputted in the addin. In this
case, that’s only the <code>stackoverflow</code> data. Altogether, this
allows for the model to tailor its response to the user’s development
environment without the user needing to supply any context
themselves.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Couch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
